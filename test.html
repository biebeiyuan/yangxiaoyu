<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>ç»“å±€ï¼šæ·é”ä¸é™¨æ˜Ÿ</title>
    <style>
        body {
            /* === â˜…â˜…â˜… èƒŒæ™¯åº•å›¾è®¾ç½®åŒºåŸŸ â˜…â˜…â˜… === */
            background-color: #000;
            background-image:
                /* é»‘è‰²æ¸å˜é®ç½© (è®©èƒŒæ™¯æš—ä¸€ç‚¹ï¼Œçªå‡ºæ–‡å­—) */
                linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.9)),
                /* â–¼â–¼â–¼â–¼â–¼â–¼ åœ¨è¿™é‡Œæ›¿æ¢ä½ çš„èƒŒæ™¯å›¾æ–‡ä»¶å â–¼â–¼â–¼â–¼â–¼â–¼ */
                url('æ·é”å›¾.jpg');

            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            /* background-attachment: fixed; å¦‚æœå¸Œæœ›èƒŒæ™¯ä¸åŠ¨ï¼Œå–æ¶ˆè¿™è¡Œçš„æ³¨é‡Š */

            color: #fff;
            font-family: "Microsoft YaHei", sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            user-select: none;
            -webkit-touch-callout: none;
        }

        .container {
            width: 600px;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 2px solid #ff4d4d;
            margin: 0 auto 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            background: #000;
        }

        .dialog-box {
            border: 1px solid #444;
            background: rgba(17, 17, 17, 0.85);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
            transition: box-shadow 0.3s;
            backdrop-filter: blur(5px);
        }

        .dialog-box.glowing {
            box-shadow: 0 0 60px rgba(255, 77, 77, 0.6);
            border-color: #ff4d4d;
        }

        #text-content {
            min-height: 80px;
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 16px;
        }

        /* === â˜…â˜…â˜… ä¿®æ”¹ï¼šå¤§å°ºå¯¸é€æ˜æŒ‰é’®å®¹å™¨ â˜…â˜…â˜… === */
        #shackle-btn-container {
            position: relative;
            /* è®¾ç½®ä¸ºå¤§å°ºå¯¸æ–¹å½¢ */
            width: 220px;
            height: 220px;
            margin: 20px auto 0;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
            /* å®¹å™¨æœ¬èº«é€æ˜æ— è¾¹æ¡† */
            background: transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* å›¾æ ‡å±‚ (ä½ çš„å¤§å›¾æ ‡) */
        .shackle-img-layer {
            width: 100%;
            /* ç•™å‡ºä¸€ç‚¹ç©ºé—´ç»™ä¸‹é¢çš„è¿›åº¦æ¡å’Œæ–‡å­— */
            height: 80%;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 2;
            opacity: 0.9;
            transition: all 0.3s;
            /* å¸¸æ€ä¸‹çš„å¾®å¼±çº¢å…‰ */
            filter: drop-shadow(0 0 5px rgba(255, 77, 77, 0.3));
        }

        /* ç‹¬ç«‹çš„è¿›åº¦æ¡å®¹å™¨ */
        .progress-bar-container {
            width: 80%;
            height: 6px;
            background: #222;
            /* æ·±è‰²æ§½ */
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.8);
        }

        /* çº¢è‰²è¿›åº¦å¡«å……æ¡ */
        .progress-bar-fill {
            height: 100%;
            width: 0%;
            /* åˆå§‹å®½åº¦ */
            background: #ff4d4d;
            border-radius: 3px;
            transition: width 0.2s ease-out;
            /* å¿«é€Ÿå›é€€ */
            box-shadow: 0 0 5px #ff4d4d;
        }

        /* æŒ‰é’®ä¸‹æ–¹çš„æ–‡å­— */
        .btn-text-label {
            margin-top: 10px;
            color: #888;
            font-weight: bold;
            font-size: 14px;
            transition: color 0.3s;
        }

        /* === æ¿€æ´»çŠ¶æ€ (æŒ‰ä½æ—¶) === */

        /* 1. å›¾æ ‡å˜å¤§ã€å‘å¼ºå…‰ (3ç§’è¿‡æ¸¡) */
        #shackle-btn-container.active .shackle-img-layer {
            opacity: 1;
            transform: scale(1.05);
            filter: drop-shadow(0 0 20px rgba(255, 77, 77, 1));
            transition: filter 3s linear, transform 0.3s ease-out;
        }

        /* 2. è¿›åº¦æ¡å¡«æ»¡ (3ç§’è¿‡æ¸¡) */
        #shackle-btn-container.active .progress-bar-fill {
            width: 100%;
            transition: width 3s linear;
        }

        /* 3. æ–‡å­—å˜çº¢äº® */
        #shackle-btn-container.active .btn-text-label {
            color: #ff4d4d;
            text-shadow: 0 0 5px rgba(255, 77, 77, 0.5);
        }


        /* === æŠ–åŠ¨åŠ¨ç”» === */
        .shake {
            animation: shake 0.5s;
        }

        @keyframes shake {
            0% {
                transform: translate(1px, 1px) rotate(0deg);
            }

            20% {
                transform: translate(-3px, 0px) rotate(1deg);
            }

            40% {
                transform: translate(1px, -1px) rotate(1deg);
            }

            60% {
                transform: translate(-3px, 1px) rotate(0deg);
            }

            80% {
                transform: translate(-1px, -1px) rotate(1deg);
            }

            100% {
                transform: translate(1px, -2px) rotate(-1deg);
            }
        }

        .final-text {
            text-align: left;
            line-height: 2;
            font-size: 18px;
            display: none;
            opacity: 0;
            animation: fadeIn 3s forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
    </style>
</head>

<body>

    <div class="container" id="interaction-stage">
        <div class="avatar">ğŸ±</div>
        <div class="dialog-box">
            <div id="text-content">
                æˆ‘å°±çŒœåˆ°ä½ ä¼šåšä»€ä¹ˆï¼Œå±€é•¿<br>
                æˆ‘æå‰ç»™ä½ è®¾ç½®å¥½äº†é˜²æŠ¤å¢™ï¼Œä½ çš„æ·é”é‡Šæ”¾ä¸å‡ºæ¥çš„ï¼Œå¥½äº†åˆ«ç™½è´¹åŠŸå¤«äº†ï¼Œæˆ‘ä»¬å›å®¶å§ï¼
            </div>

            <div id="shackle-btn-container">

                <div class="shackle-img-layer" style="background-image: url('æŒ‰é’®å›¾.png');"></div>

                <div class="progress-bar-container">
                    <div class="progress-bar-fill"></div>
                </div>

                <div class="btn-text-label" id="btn-text">é•¿æŒ‰é‡Šæ”¾æ·é”</div>
            </div>

        </div>
    </div>

    <div class="container final-text" id="final-stage">
        <h1 style="color: #ff4d4d;">ç»“å±€ä¸€ï¼šå¥‡ç‚¹é™ä¸´</h1>
        <p>000 çš„è­¦å‘Šè¢«å·¨å¤§çš„è½°é¸£å£°æ·¹æ²¡ã€‚</p>
        <p>æ­¤æ—¶æ­¤åˆ»ï¼Œä¸€é¢—ä»æœªè¢«è®°å½•ã€æ²¡è¢«è§‚æµ‹åˆ°çš„ä¸æ˜å¤©ä½“è„±ç¦»äº†è½¨é“ï¼Œå¾„ç›´ç ¸åˆ°äº†è¿™ä¸ªåŸå¸‚ã€‚</p>
        <p>ä¸æ˜å¤©ä½“å¸¦æ¥äº†å…¨æ–°æœªçŸ¥çš„ç—…æ¯’ï¼Œå¹¶ä»¥æ­¤ä¸ºä¸­å¿ƒå‘å¤–æ‰©æ•£ã€‚</p>
        <br>
        <p style="color: #00a2ff;">åœ¨é‚£é™¨æ˜Ÿçš„ä¸­å¿ƒï¼Œå±€é•¿æ­£ä¸æŸç§ä¸å¯åçŠ¶çš„å­˜åœ¨å¯¹å³™ã€‚</p>
        <p>æ·é”çš„å…‰èŠ’ï¼Œæ­£åœ¨è¯•å›¾é˜»æ­¢ç—…æ¯’è”“å»¶ã€‚</p>
        <p>é‚£ä¸ªé™¨æ˜Ÿ... ä¼¼ä¹æœ‰ç”Ÿå‘½ã€‚</p>
    </div>

    <script>
        const texts = [
            "å¥½äº†å¥½äº†éƒ½è¯´äº†æ²¡æœ‰ç”¨çš„ã€‚<br>è¿™é‡Œçš„æ•°æ®é€»è¾‘è¢«æˆ‘å†™æ­»äº†ã€‚",
            "åœä¸‹ï¼ï¼åœä¸‹ï¼ï¼è¿™æ ·ä¼šæš´éœ²çš„ï¼ï¼<br>...å±€é•¿ä½ ç–¯äº†å—ï¼ä½ ä¸èƒ½è¢«ç•™åœ¨è¿™ï¼ï¼",
            "è­¦å‘Šï¼šé˜²æŠ¤å¢™ç ´ç¢...<br>åæ ‡å·²æš´éœ²...<br>å®Œäº†..."
        ];

        let step = 0; let pressTimer = null; let isCompleted = false;
        const btnContainer = document.getElementById('shackle-btn-container');
        const dialogBox = document.querySelector('.dialog-box');
        const textEl = document.getElementById('text-content');
        const btnText = document.getElementById('btn-text');

        function startPress(e) {
            e.preventDefault(); if (isCompleted) return;
            btnContainer.classList.add('active');
            dialogBox.classList.add('glowing');
            // 3ç§’é•¿æŒ‰æ—¶é—´
            pressTimer = setTimeout(() => { triggerNextStage(); }, 3000);
        }

        function endPress(e) {
            e.preventDefault(); if (isCompleted) return;
            if (pressTimer) { clearTimeout(pressTimer); pressTimer = null; }
            btnContainer.classList.remove('active');
            dialogBox.classList.remove('glowing');
        }

        function triggerNextStage() {
            btnContainer.classList.remove('active');
            dialogBox.classList.remove('glowing');
            dialogBox.classList.remove('shake'); void dialogBox.offsetWidth; dialogBox.classList.add('shake');

            if (step < texts.length) {
                textEl.innerHTML = texts[step];
                textEl.style.color = "#ff4d4d";
                textEl.style.fontWeight = "bold";
                if (step === 2) {
                    btnText.innerText = "é•¿æŒ‰ï¼šå½»åº•ç²‰ç¢";
                    btnText.style.color = "#ff4d4d";
                } else {
                    btnText.innerText = "é•¿æŒ‰ï¼šç»§ç»­é‡Šæ”¾";
                }
                step++;
            } else {
                isCompleted = true;
                enterFinalEnding();
            }
        }

        function enterFinalEnding() {
            document.getElementById('interaction-stage').style.display = 'none';
            document.getElementById('final-stage').style.display = 'block';
        }

        btnContainer.addEventListener('mousedown', startPress);
        btnContainer.addEventListener('touchstart', startPress);
        btnContainer.addEventListener('mouseup', endPress);
        btnContainer.addEventListener('mouseleave', endPress);
        btnContainer.addEventListener('touchend', endPress);
        btnContainer.addEventListener('touchcancel', endPress);
    </script>
</body>

</html>